<link href="./tabs.css" />

<div class="{css.tabs}">
    <button
        class="{css.add}"
        title="Add a new file"
        on:click="$add()"
    >
        ➕
    </button>
    
    <div class="{css.tabs}">
        {#each [ ...$files.values() ] as file (file)}
        <div class="{$file === file ? css.tabon : css.tab}">
            <button class="{css.file}" on:click="$set({ file })">{file}</button>
            {#if $files.size > 1}
                <button
                    class="{css.remove}"
                    title="Remove {file}"
                    on:click="$remove(file)"
                >
                    ❌
                </button>
            {/if}
        </div>
        {/each}
    </div>

    <button
        class="{css.clear}"
        title="Remove all files & content"
        on:click="$reset({ content : `` })"
    >
        🗑️
    </button>
</div>

<script>
import store from "./store.js";

export default {
    store : () => store,
};
</script>
